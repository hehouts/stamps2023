---
title: '05: ggplot'
author: "Bryshal Moore"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

In yesterday's tutorial, we explored the creation PCoA plot using ggplot. Today, we'll be delving into ggplot in more detail, exploring its various features and functionalities. It's going to be an informative session that will help us gain a better understanding of this powerful tool.
 
ggplot2 (commonly just referred to as just ggplot) is a R package used to make high quality plots for your data. It offers consistent synthax and allows for detailed customization of almost every element of your pltos. Visualization options range from bargraphs, boxplots, scatterplot, pie charts, histograms and more. 

## ggplot is included in the tidyverse package we used yesterday, but can also be installed independently. 
```{r}
if (!requireNamespace("tidyverse, quietly = TRUE)) {
     install.packages("tidyverse")
#if (!requireNamespace("ggplot2", quietly = TRUE)) {
     install.packages("ggplot2") # if for some reason you do not want tidyverse and only want the  ggplot package
library(tidyverse) 
#library(ggplot2) # if you only have ggplot2
```

## Commonly used Functions
**geom_*()**
The `geon_*() function used to define the geometiic object for your plot some examples for example [geom_point(), geom_line(), geom_bar(), geom_boxplot()]
**geom_smooth
** aes()**
The `aes` function used primarily to define the x and y axis
**labs() function used to customize label

## Load in the data
```{r}
otus <- read_tsv("data/FWS_OTUs.txt")
otus %>%
  rename("taxonomy" = 1) %>%
  pivot_longer(-1) %>%
  separate(name, c("where", "when"), remove = F) %>%
  group_by(where, when) %>%
  mutate(relative_abundance = value/sum(value)) %>%
  ggplot(aes(x = name, 
             y = relative_abundance, 
             col = when)) + 
  geom_jitter(width = 0) +
  ylab("Relative\nabundance") + 
  xlab("") +
  theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))
```
