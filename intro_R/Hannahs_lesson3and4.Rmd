---
title: "03-dplyr"
author: "Hannah E. Houts"
date: "`r Sys.Date()`"
output: html_document
---

# STAMPS 2023
## Lesson 3 - dplyr and Tidyverse

Tidyverse is a suite of powerful and cohesive R packages, including dplyr, ggplot2, and tidyr. These tools share similar syntax, and some people find them to be more intuitive. I find them to be more similar to functions excell.

dplyr is an R package in the Tidyverse suite. Dplyr has commands that help address common data manipulation challenges:

`select()` picks variables (think columns) based on their names.
`filter()` picks cases based on their values (think filtering rows).
`arrange()` changes the ordering of the rows.
`relocate()` changes the order of columns.
`mutate()` adds new variables that are functions of existing variables
`summarise()` reduces multiple values down to a single summary.

These also combine with `group_by()` which allows you to perform any operation “by group”. 


## Loading in data for dplyr
Before we can read in our data in a dplyr-friendly way, we need to install some packages. 

Optionally, you can individually install and load readr, dplyr, ect like this
```{r}
#install.packages("readr")
#library(readr)

#install.packages("dplyr")
#library(dplyr)
```

but I prefer to just load the whole tidyverse suite like this:
```{r}
#install.packages("tidyverse")
library(tidyverse)
```

(its perfectly valid to only install individual packages, especially if you want to increase loading speed for a polished workflow or if you have a weird command conflict)

## readr

recall that we loaded in our tables using `read.csv`
We're going to add "baseR" to these variables
```{r}
covariates_baseR <- read.csv("data/FWS_covariates.txt", sep = "\t")
abundances_baseR <- read.csv("data/FWS_OTUs.txt", sep = "\t", row.names = 1, header = T)
```

When planning to manipulate data with dplyr or other Tidyverse tools, `read_csv()` or `read_tsv()` are preferable. 
`read_csv()` is a readr command (part of the tidyverse)



